{% extends 'base.html.twig' %}

{% block body %}


    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
      <a class="navbar-brand" href="#">BtoClick</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarColor01">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="{{ path('user_index') }}">Inicio</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{{ path('empresa_index') }}">Empresas</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{{ path('cliente_lista') }}">Clientes</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Trabajadores</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Partes</a>
          </li>
        </ul>
        <form class="form-inline my-2 my-lg-0">
          <input class="form-control mr-sm-2" type="text" placeholder="buscar">
          <button class="btn btn-secondary my-2 my-sm-0" type="submit">buscar</button>
        </form>
      </div>
    </nav>
</div>
    <div class="container">
        <h1>Listado de Usuarios</h1>

         <table class="table table-hover">
             <thead>
                 <tr>
                     <th scope="col">Id</th>
                     <th scope="col">Usuario</th>
                     <th scope="col">Nombre</th>
                     <th scope="col">Roles</th>
                     <th></th>
                 </tr>
             </thead>
             <tbody>
             {% for user in users %}
                 {% set nUsuario = user.id*23 %}
                 <tr>
                     <td><a href="{{ path('user_show', { 'usuario': nUsuario }) }}">{{ user.id }}</a></td>
                     <td>{{ user.username }}</td>
                     <td>{{ user.nombre }}</td>
                     <td>{{ user.roles[0] }}</td>
                     <td>

                     <div class="btn-group mr-2" role="group" aria-label="Second group">
                       <a href="{{ path('user_show', { 'usuario': nUsuario}) }}" class="btn btn-primary btn-sm"><i class="fa fa-eye"></i></a>
                       <a href="{{ path('user_edit', { 'usuario': nUsuario }) }}" class="btn btn-primary btn-sm"><i class="fa fa-edit"></i></a>                    
                     </div>
                     </td>
                 </tr>
             {% endfor %}
             </tbody>
         </table>

        <div class="btn-group mr-2" role="group" aria-label="Second group">
          <a href="{{ path('user_nuevo') }}" class="btn btn-primary"><i class="fa fa-user-plus "></i> Nuevo usuario</a>                   
        </div>    

    </div>

{% endblock %}
